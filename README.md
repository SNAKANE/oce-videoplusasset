# Oracle Content and Experience のVideo Plus アセットを使ってみよう
このチュートリアルは、Oracle Content and Experience (OCE)の有償オプション機能である **拡張ビデオ機能（Video Plus アセット）** を利用する手順について、ステップ・バイ・ステップで紹介します


## 1. 前提条件の確認
### 1.1 バージョン
このハンズオンの内容は、**Oracle Content and Experience 20.4.1** 時点の内容で作成されています。最新の UI とは異なっている場合があります。最新情報については、製品マニュアルをご参照ください

+ Oracle Content and Experience
  + https://docs.oracle.com/en/cloud/paas/content-cloud/books.html
  + https://docs.oracle.com/cloud/help/ja/content-cloud/index.htm（日本語翻訳版）


### 1.2 インスタンスの作成
OCEインスタンスが作成済であること。インスタンスの作成方法は、以下のチュートリアルをご確認ください

+ [Oracle Content and Experience インスタンスを作成する](https://community.oracle.com/tech/welcome/discussion/4474317/oracle-content-and-experience-%E3%82%A4%E3%83%B3%E3%82%B9%E3%82%BF%E3%83%B3%E3%82%B9%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B)


### 1.3 アセットリポジトリの作成
アセットリポジトリが作成済であること。リポジトリの作成方法は、以下のチュートリアルをご確認ください

+ [Oracle Content and Experience を Headless CMS として使ってみよう【初級編】](https://community.oracle.com/tech/welcome/discussion/4474320/oracle-content-and-experience-%E3%82%92-headless-cms-%E3%81%A8%E3%81%97%E3%81%A6%E4%BD%BF%E3%81%A3%E3%81%A6%E3%81%BF%E3%82%88%E3%81%86-%E5%88%9D%E7%B4%9A%E7%B7%A8)

### 1.4 Webサイトの作成
アセットを公開できるエンタープライズサイトが作成済であること。サイトの作成方法は、以下のチュートリアルをご確認ください

+ [Oracle Content and Experience を Webコンテンツ管理(Web CMS) として利用しよう【初級編】](https://community.oracle.com/tech/welcome/discussion/4474322/oracle-content-and-experience-%E3%82%92-web%E3%82%B3%E3%83%B3%E3%83%86%E3%83%B3%E3%83%84%E7%AE%A1%E7%90%86-web-cms-%E3%81%A8%E3%81%97%E3%81%A6%E5%88%A9%E7%94%A8%E3%81%97%E3%82%88%E3%81%86-%E5%88%9D%E7%B4%9A%E7%B7%A8)


## 2. 拡張ビデオ機能を有効化する
Video Plusアセットを利用するには、拡張ビデオ機能を有効化する必要があります。拡張ビデオ機能は有償オプション機能であるため、OCEインスタンス作成直後はデフォルトで「無効」となっています。利用する際は、OCEインスタンスのサービス管理者が有効化します。
また、OCEインスタンスとして有効化した後、リポジトリ管理者はリポジトリ単位で拡張ビデオ機能を有効/無効に設定できます

### 2.1 OCEインスタンスの拡張ビデオ機能を有効化する
OCEインスタンスの拡張ビデオ機能を有効化します

1. OCEにサインインします

1. **ADMINISTRATION:システム→請求** をクリックします

1. **請求オプション** の **ビデオ機能** で **「Video Plus - 拡張ビデオ管理」** を選択します

1. 「適用される条件」をクリックし、Oracle PaaS and IaaS Universal Credits Service Descriptions の課金条件を確認した上で、**「Video Plus拡張ビデオ機能の追加コストに同意する」** にチェックを入れます
![拡張ビデオ機能の有効化](images/video001.jpg)

1. **「保存」** クリックします

1. しばらくすると、拡張ビデオ機能が有効化されます




### 2.2 リポジトリのビデオ・プランを変更する
リポジトリのビデオ・プランを、「Video Plus - 拡張ビデオ管理」に変更します

1. **ADMINISTRATION:コンテンツ→リポジトリ** を選択します

1. 作成済みの **Sample Content Repository** をクリックします
![リポジトリの編集](images/video002.jpg)
1. ビデオ・プランで、**「Video Plus - 拡張ビデオ管理」** を選択しますチ

1. **「保存」** クリックします
![リポジトリの編集](images/video003.jpg)




## 3. 動画ファイルを Video Plus アセットとして登録する
拡張ビデオ機能を有効化したリポジトリにmp4の動画ファイルを登録します

1. 左ナビゲーションの **「アセット」** をクリックします
1. **「Sample Content Repository」** を選択します

1. **「追加」→「このコンピュータから追加」** をクリックし、ローカル環境からmp4形式の動画ファイルをアップロードします。今回アップロードした動画ファイルは[こちら](files/sample.mp4)から取得できます
![動画ファイルの登録](images/video004.jpg)

1. **「完了」** をクリックします
![動画ファイルの登録](images/video005.jpg)

1. 登録処理が完了するまでしばらく待ちます。登録処理が完了すると、アップロードした動画のサムネイルが表示されます
![動画ファイルの登録処理中](images/video006.jpg)

1. 登録処理が完了したVideo Plusアセットをクリックします（もしくは、Video Plus アセットを選択し、**「開く」** をクリック）
![動画ファイルの登録処理中](images/video007.jpg)

1. 動画の画面中央をクリックすると、動画の再生が始まります。動画の操作メニューに、10秒戻る、10秒進む、再生速度の変更などのメニューが表示されることを確認します
![Video Plusアセットの表示](images/video008.jpg)

1. 「レンディション」でStripやThumbnailが作成されていることを確認します
![レンディションの確認](images/video009.jpg)

1. **「閉じる」** をクリックします



## 4. WebサイトにVideo Plusアセットを登録する
前の手順で登録したVideo Plusアセットを、作成済みのWebサイト **firstSite** の **Home** ページ上に配置します

1. 左ナビゲーションの **「サイト」** をクリックします

1. **「firstSite」** を選択し、**「開く」** をクリックします
![サイトの編集](images/video010.jpg)
    ~~~
    この場合、ベース・サイトは公開済（青色の上向き矢印）、かつ、サイトはオンライン状態（緑色の丸アイコン）であることを意味し、サイト訪問者はベース・サイトを閲覧可能な状態であることを意味します
    ~~~

1. サイトの編集画面（Site Builder）が表示されます。**「ベース・サイト▼」** をクリックし、**「新規更新の作成」** を選択します
![サイトの編集](images/video011.jpg)

1. 「新規更新の名前の指定」に **update** と入力し、**「OK」** をクリックします
![サイトの編集](images/video012.jpg)

1. 「update」に切り替わっていることを確認します。表示側にあるスイッチを **「編集」** モードに切り替えます
![サイトの編集](images/video013.jpg)

1. 左サイドバーの **「コンポーネント」→「シード」** をクリックします
![ビデオコンポーネントの配置](images/video014.jpg)

1. **「ビデオ」** コンポーネントを、Home ページ上にドラッグ&ドロップで配置します。ここでは、 コンテンツ・リストコンポーネントの **左隣** に配置します
![ビデオコンポーネントの配置](images/video015.jpg)

1. ビデオコンポーネントの **メニュ→「設定」** をクリックします
![ビデオコンポーネントの配置](images/video016.jpg)

1. ビデオ設定のダイアログが表示されます。**「選択」** をクリックします
![ビデオコンポーネントの配置](images/video017.jpg)

1. ビデオの選択ダイアログが表示されます。検索ボックスのフィルタ（firstSite Site）を削除します
![Video Assetsの選択](images/video018.jpg)

1. アセット・リポジトリから、先ほどアップロードした **sample** を選択し、**「OK」** をクリックします
![Video Assetsの選択](images/video019.jpg)

1. 必要に応じて、オプションや位置合わせ、幅、間隔を調整し、ビデオ設定を閉じます
![Video Assetsの選択](images/video020.jpg)

1. スイッチを編集→ **表示** に切り替え、**「保存」** をクリックします
![Video Assetsの選択](images/video022.jpg)

1. **「コミット」** をクリックし、更新内容を適用します。確認のダイアログが表示されるので **「コミット」** をクリックします
![Video Assetsの選択](images/video023.jpg)

1. 「update'はベース・サイトに正常にコミットされました」のメッセージが表示されます。サイトの編集画面を閉じます


## 5. Webサイトを公開する
サイトを公開します。オンライン状態のサイトを「公開」すると、ベース・サイトの内容がサイトにアクセス可能なユーザーすべてに表示されます
1. firstSite を選択し、**「再公開」** をクリックします
![サイトの公開](images/video024.jpg)
    ~~~
    この場合、ベース・サイトはドラフト（灰色のアイコン）であることを意味します。つまり、ベース・サイトは更新済だが、その更新内容はサイト訪問者が閲覧できる場所に公開されていないことになります
    ~~~

1. **「サイトと、サイトのページに追加されているすべてのアセットを公開」** を選択し、**「OK」** をクリックします
![サイトの公開](images/video025.jpg)

1. サイトの公開検証が行われます。検証チェックに合格したことを確認し、**「公開」** をクリックします
![サイトの公開](images/video026.jpg)
    ~~~
    firstSite上に配置したVideo Plusアセット（sample.mp4）も検証され、公開準備が完了します。これは、Video Plusアセットがサイトのページ上で利用されているためです
    ~~~

1. 確認のダイアログが表示されます。**「確認して実行」** にチェックを入れ、**「公開」** をクリックします
![サイトの公開](images/video027.jpg)

1. しばらくすると、サイトのステータスが「公開」に遷移します
![サイトの公開](images/video028.jpg)

## 6. 確認
公開されたオンライン状態のサイトを確認します

1. firstSite を選択し、**「プロパティ」** を開きます
![公開サイトの確認](images/video029.jpg)

1. **「サイトURL」** をコピーし、別ブラウザで開きます
![公開サイトの確認](images/video030.jpg)

1. オンライン状態のサイトが表示されます。**sample.mp4** がHomeページ上に表示されていることを確認します
![公開サイトの確認](images/video031.jpg)

1. 動画をクリックし、再生できることを確認します

以上で、このチュートリアルは終了です。お疲れさまでした
